{% extends 'base.html' %}

{% block title %}Assignments - Shoeb Sir's Academy{% endblock %}

{% block header %}Assignments{% endblock %}

{% block content %}
<div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center gap-3 mb-4 pt-2">
    <h4 class="mb-0 fw-bold">Assignments</h4>
    {% if user.is_teacher %}
    <a href="{% url 'assignment_create' %}" class="btn btn-primary rounded-pill px-4 shadow-sm" aria-label="Create new assignment">
        <i data-feather="plus" class="me-2" style="width: 16px; height: 16px;"></i>
        <span>Create Assignment</span>
    </a>
    {% endif %}
</div>

<div class="row g-4">
    {% for assignment in assignments %}
    <div class="col-md-6 col-lg-4">
        <div class="card h-100 border-0 shadow-sm rounded-lg hover-shadow transition-all">
            <div class="card-body p-4">
                <div class="d-flex justify-content-between align-items-start mb-3 flex-wrap gap-2">
                    <span class="badge bg-info bg-opacity-10 text-info rounded-pill px-2 py-1 fw-medium">{{ assignment.batch.name }}</span>
                    <span class="badge bg-warning bg-opacity-10 text-warning rounded-pill px-2 py-1 fw-medium">Due: {{ assignment.due_date|date:"M d" }}</span>
                </div>
                <h5 class="card-title fw-bold mb-2 text-truncate" title="{{ assignment.title }}">{{ assignment.title }}</h5>
                <p class="card-text text-muted small mb-4">{{ assignment.description|truncatewords:15 }}</p>
                <a href="{% url 'assignment_detail' assignment.pk %}" class="btn btn-outline-primary w-100 rounded-pill fw-medium" aria-label="View {{ assignment.title }}">View Details</a>
            </div>
        </div>
    </div>
    {% empty %}
    <div class="col-12">
        <div class="alert alert-light text-center text-muted border-0 shadow-sm py-5 rounded-lg d-flex flex-column align-items-center">
            <i data-feather="clipboard" style="width: 48px; height: 48px; opacity: 0.5;" class="mb-3"></i>
            <p class="mb-0">No assignments found.</p>
        </div>
    </div>
    {% endfor %}
</div>
{% endblock %}

{% block extra_js %}
<script>
document.addEventListener('DOMContentLoaded', function() {
    if (typeof feather !== 'undefined') {
        feather.replace();
    }
});
</script>
{% endblock %}

